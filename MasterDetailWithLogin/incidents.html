<!DOCTYPE HTML>
<html>
    <head>


        <script type="text/javascript">

            window.onload = function () {
                var c = document.getElementById("geographic");
                var ctx = c.getContext("2d");
                var centerX = c.width / 2+14;
                var centerY = c.height / 2-39;
                ctx.beginPath();
                ctx.arc(centerX,centerY,2,0,2*Math.PI,false);
                ctx.fillStyle = 'E62E00';
                ctx.fill();
                //ctx.closePath();
                //ctx.lineWidth = 1;
                ctx.strokeStyle = '#E62E00';
                ctx.stroke();

                ctx.beginPath();
                ctx.arc(centerX,centerY,4, 0, Math.PI*2, false);
                ctx.closePath();
                ctx.strokeStyle = "E62E00";
                ctx.stroke();

                function intersects(x, y, cx, cy, r) {
//                   alert("cx"+x);
//                   alert("cy"+y);
//                   alert("cx"+cx);
//                   alert("cy"+cy);
                    var dx = x-cx
                    var dy = y-cy
//                  alert("dx"+dx*dx+' '+dy*dy+' '+' '+r*r);
                    return (dx*dx+dy*dy <= r*r)
                }

                $("#geographic").on("click", function (e){
                    if(intersects(e.pageX, e.pageY, 453,93, 16))
                    {
                  //    alert("show");
                                    submitButton('show');
                    }else{
                    //    alert("not show");
                    }
                });

//                var chart = new CanvasJS.Chart("chartContainer",
//                                               {
//                                               title:{
//                                               text: "SBU - RPN"
//                                               },
//                                               axisX: {
//                                               title: "Months"
//                                               },
//                                               axisY: {
//                                               title: "Incidents"
//                                               },
//                                               legend: {
//                                               //verticalAlign: "bottom",
//                                               //horizontalAlign: "center",
//                                               horizontalAlign: "right", // left, center ,right
//                                               verticalAlign: "center",  // top, center, bottom
//                                               },
//                                               zoomEnabled:true,
//                                               animationEnabled: true,
//                                               data: [
//                                                      {
//                                                      type: "column",
//                                                      showInLegend: true,
//                                                      legendMarkerType: "square",
//                                                      legendText: "RPN - 9 to 30(Needs attention)",
//                                                      name: "RPN - 9 to 30",
//                                                      dataPoints: [
//                                                                   { label: "JAN",y: 3},
//                                                                   { label: "FEB",y: 4},
//                                                                   { label: "MAR",y: 7},
//                                                                   { label: "APR",y: 3},
//                                                                   { label: "MAY",y: 5},
//                                                                   { label: "JUN",y: 3},
//                                                                   { label: "JUL",y: 2},
//                                                                   { label: "AUG",y: 5},
//                                                                   { label: "SEP",y: 8},
//                                                                   { label: "OCT",y: 6},
//                                                                   { label: "NOV",y: 3},
//                                                                   { label: "DEC",y: 4}
//                                                                   ]
//                                                      },
//                                                      {
//                                                      type: "column",
//                                                      showInLegend: true,
//                                                      legendMarkerType: "square",
//                                                      legendText: "RPN - 31 to 64(Major)",
//                                                      type: "column",
//                                                      name: "RPN - 31 to 64",
//                                                      dataPoints: [
//                                                                   { label: "JAN",y: 2},
//                                                                   { label: "FEB",y: 5},
//                                                                   { label: "MAR",y: 3},
//                                                                   { label: "APR",y: 4},
//                                                                   { label: "MAY",y: 8},
//                                                                   { label: "JUN",y: 1},
//                                                                   { label: "JUL",y: 3},
//                                                                   { label: "AUG",y: 2},
//                                                                   { label: "SEP",y: 4},
//                                                                   { label: "OCT",y: 4},
//                                                                   { label: "NOV",y: 2},
//                                                                   { label: "DEC",y: 1}
//                                                                   ]
//                                                      },
//                                                      {
//                                                      type: "column",
//                                                      showInLegend: true,
//                                                      legendMarkerType: "square",
//                                                      legendText: "RPN - 65 to 100 (Severe)",
//                                                      name: "RPN - 65 to 100",
//                                                      dataPoints: [
//                                                                   { label: "JAN",y: 3},
//                                                                   { label: "FEB",y: 1},
//                                                                   { label: "MAR",y: 2},
//                                                                   { label: "APR",y: 3},
//                                                                   { label: "MAY",y: 3},
//                                                                   { label: "JUN",y: 1},
//                                                                   { label: "JUL",y: 3},
//                                                                   { label: "AUG",y: 4},
//                                                                   { label: "SEP",y: 2},
//                                                                   { label: "OCT",y: 1},
//                                                                   { label: "NOV",y: 4},
//                                                                   { label: "DEC",y: 3}
//                                                                   ]
//                                                      },
//                                                      {
//                                                      type: "column",
//                                                      showInLegend: true,
//                                                      legendMarkerType: "square",
//                                                      legendText: "RPN > 100 (Highly Severe)",
//                                                      name: "RPN > 100",
//                                                      dataPoints: [
//                                                                   { label: "JAN",y: 2},
//                                                                   { label: "FEB",y: 1},
//                                                                   { label: "MAR",y: 2},
//                                                                   { label: "APR",y: 3},
//                                                                   { label: "MAY",y: 1},
//                                                                   { label: "JUN",y: 1},
//                                                                   { label: "JUL",y: 2},
//                                                                   { label: "AUG",y: 1},
//                                                                   { label: "SEP",y: 2},
//                                                                   { label: "OCT",y: 1},
//                                                                   { label: "NOV",y: 1},
//                                                                   { label: "DEC",y: 2}
//                                                                   ]
//                                                      },
//                                                      ]
//                                               
//                                               });
//                                               
//                                               chart.render();

var chart1 = new CanvasJS.Chart("chartContainer1",
                               {
                               title:{
                               text: "Total Incident Cost"
                               
                               },
                                   axisX: {
                                       title: "Quarter"
                                   },
                                   axisY: {
                                       title: "Cost ($ USD)"
                                   },
                                legend: {
                                horizontalAlign: "right", // left, center ,right
                                verticalAlign: "center",  // top, center, bottom
                                },
                                zoomEnabled: true,
                                animationEnabled: true,
                               data: [{
                                      type: "stackedArea", //or stackedColumn
                                      showInLegend: true,
                                      legendMarkerType: "square",
                                      legendText: "Munich",
                                      name: "Munich",
                                      dataPoints: [
                                                 { label: "Q1",y: 12003},
                                                 { label: "Q2",y: 15000},
                                                 { label: "Q3",y: 10000},
                                                 { label: "Q4",y: 50000}
                                      ]
                                      },
                                   {
                                      type: "stackedArea", //or stackedColumn
                                      showInLegend: true,
                                      legendMarkerType: "square",
                                      legendText: "London",
                                      name: "London",
                                      dataPoints: [
                                          { label: "Q1",y: 30453},
                                          { label: "Q2",y: 25690},
                                          { label: "Q3",y: 40345},
                                          { label: "Q4",y: 20345}
                                        ]
                                   },
                                   {
                                       type: "stackedArea", //or stackedColumn
                                       showInLegend: true,
                                       legendMarkerType: "square",
                                       legendText: "Guangzhou",
                                       name: "Guangzhou",
                                       dataPoints: [
                                           { label: "Q1",y: 20563},
                                           { label: "Q2",y: 18670},
                                           { label: "Q3",y: 12670},
                                           { label: "Q4",y: 34500}
                                       ]
                                   },
                                   {
                                       type: "stackedArea", //or stackedColumn
                                       showInLegend: true,
                                       legendMarkerType: "square",
                                       legendText: "Rajkot",
                                       name: "Rajkot",
                                       dataPoints: [
                                           { label: "Q1",y: 10563},
                                           { label: "Q2",y: 28670},
                                           { label: "Q3",y: 32670},
                                           { label: "Q4",y: 24500}
                                       ]
                                   }
                                      ]
                               });

                chart1.render();

//                var chart2 = new CanvasJS.Chart("chartContainer2",
//                        {
//                            title:{
//                                text: "Plant EHS Safety Matrics"
//                            },
//                      
//                            toolTip: {
//                                shared: true
//                            },
//                            axisY:{
//                                title: "Incidents"
//                            },
//
//                            zoomEnabled: true,
//                            animationEnabled: true,
//
//                            data: [
//                                {
//                                    //color: "#369EAD",
//                                    showInLegend: true,
//                                    legendMarkerType: "square",
//                                    legendText: "Open",
//                                    type: "stackedBar",
//                                    name:"Open",
//                                    dataPoints: [
//                                        { y: 3, label:"Engine Assembly" },
//                                        { y: 4, label:"Final Assembly" },
//                                        { y: 1, label:"Paint Shop" },
//                                        { y: 3, label:"Body Shop" },
//                                        { y: 3, label:"Stamping" }
//                                    ]
//                                },
//                                {
//                                    showInLegend: true,
//                                    legendMarkerType: "square",
//                                    legendText: "Pending",
//                                    name:"Pending",
//                                    type: "stackedBar",
//                                    dataPoints: [
//                                        { y: 6, label:"Engine Assembly" },
//                                        { y: 8, label:"Final Assembly" },
//                                        { y: 4, label:"Paint Shop" },
//                                        { y: 3, label:"Body Shop" },
//                                        { y: 5, label:"Stamping" }
//
//                                    ]
//                                },
//                                {
//                                    showInLegend: true,
//                                    legendMarkerType: "square",
//                                    legendText: "Closed",
//                                    type: "stackedBar",
//                                    name:"Closed",
//                                    dataPoints: [
//                                        { y: 4, label:"Engine Assembly" },
//                                        { y: 6, label:"Final Assembly" },
//                                        { y: 3, label:"Paint Shop" },
//                                        { y: 5, label:"Body Shop" },
//                                        { y: 2, label:"Stamping" }
//
//                                    ]
//                                }
//                            ]
//                        });
//
//                chart2.render();
//
//                var chart3 = new CanvasJS.Chart("chartContainer3",
//                        {
//                            title:{
//                                text: "Safety Index"
//                            },
//                            axisX:{
//                                title: "Year"
//                            },
//                            axisY:{
//                                title: "Safety Index"
//                            },
//                            zoomEnabled: true,
//                            animationEnabled: true,
//                            data: [
//                                {
//                                    type: "stackedColumn100",
//                                    legendText: "DFR",
//                                    showInLegend: "true",
//                                    legendMarkerType: "square",
////                                    indexLabel: "#percent %",
////                                    indexLabelPlacement: "inside",
////                                    indexLabelFontColor: "white",
//                                    dataPoints: [
//                                        {  y: 3.8, label: "2014"},
//                                        {  y: 3.4, label: "2013" },
//                                        {  y: 2.7, label: "2012" },
//                                        {  y: 2.3, label: "2011" }
//                                    ]
//                                },
//                                {
//                                    type: "stackedColumn100",
//                                    legendText: "SeverityRate",
//                                    showInLegend: "true",
////                                    indexLabel: "#percent %",
////                                    indexLabelPlacement: "inside",
////                                    indexLabelFontColor: "white",
//                                    dataPoints: [
//                                        {  y: 8.1, label: "2014"},
//                                        {  y: 7.3, label: "2013" },
//                                        {  y: 5.8, label: "2012" },
//                                        {  y: 5.0, label: "2011" }
//                                    ]
//                                },
//                                {
//                                    type: "stackedColumn100",
//                                    legendText: "RIFR",
//                                    showInLegend: "true",
////                                    indexLabel: "#percent %",
////                                    indexLabelPlacement: "inside",
////                                    indexLabelFontColor: "white",
//                                    dataPoints: [
//                                        {  y: 7.0, label: "2014"},
//                                        {  y: 6.3, label: "2013" },
//                                        {  y: 5.0, label: "2012" },
//                                        {  y: 4.3, label: "2011" }
//                                    ]
//                                },
//                                {
//                                    type: "line",
//                                    legendText: "Safety Index",
//                                    showInLegend: "true",
//                                    dataPoints: [
//                                        {  y: 18.8, label: "2014"},
//                                        {  y: 16.9, label: "2013"},
//                                        {  y: 13.5, label: "2012"},
//                                        {  y: 11.5, label: "2011"}
//                                    ]
//                                }
//
//                            ]
//                        });
//                chart3.render();
            }
        </script>
        <script type="text/javascript" src="canvasjs.min.js"></script>
        <script type="text/javascript" src="jquery-2.1.3.min.js"></script></head>
    <body>

    <canvas id="geographic" style="height: 340px; width: 100%;border: 2px solid #a1a1a1;border-radius: 0px; background:url('map_view@2x.png') no-repeat; background-size: 100% 300px;">
        <button id="button1"></button>
    </canvas>
<!--        <div id="chartContainer" style="height: 300px; width: 100%;border: 2px solid #a1a1a1;border-radius: 0px;">
        </div>
-->
        <div id="chartContainer1" style="height: 300px; width: 100%;border: 2px solid #a1a1a1;border-radius: 0px;">
            
        </div>
<!--        <div id="chartContainer2" style="height: 300px; width: 49%;float:left;border: 2px solid #a1a1a1;border-radius: 0px;">
        </div>
-->
<!--        <div id="chartContainer3" style="height: 300px; width: 49%;float:right;border: 2px solid #a1a1a1;border-radius: 0px;">
        </div>
        -->
    </body>
</html>